using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class uv_mover : MonoBehaviour
{
    public float speedu = 10.0f;
    public float speedv = 10.0f;
    public string texture_name = "_BaseMap";

    bool once = false;

    // Start is called before the first frame update
    void Start()
    {
        
    }

    // Update is called once per frame
    void Update()
    {
        // Get the renderer, then update the UVs
        Renderer renderer = gameObject.GetComponent<Renderer>();
        if (renderer != null)
        {
            Material m = renderer.material;
            if (m != null)
            {

                if (once)
                {
                    once = false;
                    foreach (string property in m.GetTexturePropertyNames())
                    {
                        print(property);
                    }
                }
                Vector2 cur_offset = m.GetTextureOffset(texture_name);
                m.SetTextureOffset(texture_name, new Vector2(cur_offset.x + speedu * Time.deltaTime, cur_offset.y + speedv * Time.deltaTime));
               
            }
        }

    }
}
